{% extends 'base.html' %}
{% block content %}

<!-- ═══════════ HERO ═══════════ -->
<section id="hero-section"
    style="min-height:100vh;display:flex;align-items:center;padding:0 5%;position:relative;overflow:hidden;background:linear-gradient(135deg,#FEFCE8 0%,#FFF3CD 50%,#FDE8D8 100%)">

    <!-- ── Video (bottom layer) ── -->
    <video autoplay loop muted playsinline
        style="position:absolute;inset:0;width:100%;height:100%;object-fit:cover;z-index:0;opacity:0.82">
        <source src="{{ url_for('static', filename='images/hero-bg.mp4') }}" type="video/mp4">
    </video>

    <!-- ── Warm tint overlay ── -->
    <div style="position:absolute;inset:0;z-index:1;
      background:linear-gradient(135deg,rgba(254,252,232,0.07) 0%,rgba(255,243,205,0.05) 100%)"></div>

    <!-- ── Cyber Circuit Animation Canvas (on top of video) ── -->
    <canvas id="hero-canvas" style="position:absolute;inset:0;width:100%;height:100%;z-index:2"></canvas>

    <div style="max-width:900px;margin:0 auto;width:100%;text-align:center;position:relative;z-index:3">

        <!-- Eyebrow -->
        <div class="eyebrow" style="justify-content:center;animation:fadeUp .6s ease both .2s;opacity:0">
            <span style="
                background: linear-gradient(135deg, var(--blue), var(--purple));
                color: #fff;
                padding: .35rem 1.2rem;
                border-radius: 30px;
                font-size: .78rem;
                letter-spacing: 2px;
                font-weight: 700;
                box-shadow: 0 4px 18px rgba(12,119,82,0.35);
                display: inline-block;
            ">✦ AI Academic Intelligence Platform ✦</span>
        </div>

        <!-- Tagline: Predict. Analyse. Improve. -->
        <h1 style="font-family:var(--font-head);font-size:clamp(3rem,6vw,5.5rem);font-weight:900;
                   text-transform:uppercase;line-height:1.05;letter-spacing:3px;
                   animation:fadeUp .7s ease both .4s;opacity:0;margin-bottom:1.5rem">
            <span style="display:block;color:var(--text)">Predict.</span>
            <span style="display:block;background:linear-gradient(90deg,var(--blue),var(--purple));
                 -webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent">Analyse.</span>
            <span style="display:block;color:var(--text)">Improve.</span>
        </h1>

        <!-- Subheading -->
        <p style="font-size:1.1rem;max-width:580px;margin:0 auto 2.5rem;
                  animation:fadeUp .7s ease both .6s;opacity:0;line-height:1.8">
            <span style="
                display:inline-block;
                background: rgba(12,119,82,0.08);
                border: 1.5px solid rgba(12,119,82,0.22);
                border-radius: 12px;
                padding: 1rem 1.4rem;
                color: var(--text);
                font-size: 1rem;
            ">
                Techtonics uses <strong style="color:var(--blue)">4 ML models</strong>
                to predict student <strong style="color:var(--blue)">academic performance</strong>,
                classify <strong style="color:var(--blue)">risk groups</strong>, and deliver
                <strong style="color:var(--blue)">personalised improvement advisory</strong>
                &mdash; <em style="color:var(--blue);font-style:normal;font-weight:700">instantly.</em>
            </span>
        </p>

        <!-- CTAs -->
        <div
            style="display:flex;gap:1rem;flex-wrap:wrap;justify-content:center;animation:fadeUp .7s ease both .8s;opacity:0">
            <a href="/predict" class="btn btn-cyan"><i class="fa-solid fa-bolt"></i> Start Analysis</a>
            <a href="/visualize" class="btn btn-outline-cyan"><i class="fa-solid fa-chart-scatter"></i> View
                Dashboard</a>
        </div>

        <!-- Stats row -->
        <div
            style="display:flex;gap:4rem;margin-top:3.5rem;justify-content:center;animation:fadeUp .7s ease both 1s;opacity:0">
            <div>
                <div style="font-family:var(--font-head);font-size:2rem;font-weight:900;color:var(--blue)">1200+</div>
                <div style="font-size:.75rem;color:var(--muted);text-transform:uppercase;letter-spacing:1px">Records
                </div>
            </div>
            <div>
                <div style="font-family:var(--font-head);font-size:2rem;font-weight:900;color:var(--purple)">4</div>
                <div style="font-size:.75rem;color:var(--muted);text-transform:uppercase;letter-spacing:1px">ML Models
                </div>
            </div>
            <div>
                <div style="font-family:var(--font-head);font-size:2rem;font-weight:900;color:var(--blue)">94%</div>
                <div style="font-size:.75rem;color:var(--muted);text-transform:uppercase;letter-spacing:1px">Accuracy
                </div>
            </div>
        </div>

</section>


<!-- ═══════════ FEATURES ═══════════ -->
<section class="section" id="features">
    <div class="section-inner">
        <div data-aos="fade-up">
            <div class="eyebrow">Core Capabilities</div>
            <h2 class="section-title"><span class="accent">4 Models.</span><br>One Platform.</h2>
        </div>

        <div class="grid-4 mt-4">
            {% set features = [
            ('fa-chart-line','cyan','Score Prediction','Linear Regression','Predicts final exam score from 9 behavioural
            features'),
            ('fa-sitemap','purple','Pass / Fail','Decision Tree','Classifies pass/fail with high interpretability'),
            ('fa-circle-nodes','cyan','Performance','KNN Classifier','Categorises Low / Medium / High performance'),
            ('fa-shield-halved','purple','Risk Clusters','K-Means','Groups students into High / Medium / Low risk'),
            ] %}
            {% for icon,col,title,model,desc in features %}
            <div class="glass" style="padding:1.8rem" data-aos="fade-up" data-aos-delay="{{ loop.index0 * 80 }}">
                <div
                    style="width:48px;height:48px;border-radius:10px;margin-bottom:1.2rem;display:flex;align-items:center;justify-content:center;
             background:rgba({{ '0,245,255' if col=='cyan' else '124,58,237' }},.08);border:1px solid rgba({{ '0,245,255' if col=='cyan' else '124,58,237' }},.2)">
                    <i class="fa-solid {{ icon }}" style="color:var(--{{ col }})"></i>
                </div>
                <div
                    style="font-family:var(--font-head);font-size:.8rem;font-weight:700;text-transform:uppercase;letter-spacing:1px;margin-bottom:.3rem">
                    {{ title }}</div>
                <div style="font-size:.72rem;color:var(--{{ col }});font-family:var(--font-mono);margin-bottom:.8rem">{{
                    model }}</div>
                <p style="font-size:.82rem;color:var(--muted)">{{ desc }}</p>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<div class="glow-divider"></div>

<!-- ═══════════ HOW IT WORKS ═══════════ -->
<section class="section">
    <div class="section-inner">
        <div class="text-center mb-4" data-aos="fade-up">
            <div class="eyebrow">Process</div>
            <h2 class="section-title">Four Steps to Insight</h2>
        </div>

        <div class="grid-4">
            {% for num,title,desc,icon in [
            ('01','Input Profile','Enter 9 academic & behavioural features via interactive sliders','fa-sliders'),
            ('02','ML Inference','4 models run in parallel — results in under 200ms','fa-microchip'),
            ('03','Results','Score, Pass/Fail, Performance category, Risk cluster','fa-chart-bar'),
            ('04','Advisory','Personalized feature-level recommendations to improve','fa-lightbulb'),
            ] %}
            <div data-aos="fade-up" data-aos-delay="{{ loop.index0 * 100 }}" style="text-align:center">
                <div style="font-family:var(--font-head);font-size:2.5rem;font-weight:900;
             background:linear-gradient(135deg,var(--cyan),var(--purple));
             -webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;
             margin-bottom:.5rem">{{ num }}</div>
                <i class="fa-solid {{ icon }}" style="color:var(--cyan);font-size:1.3rem;margin-bottom:.8rem;display:block;
           filter:drop-shadow(0 0 8px var(--cyan))"></i>
                <div
                    style="font-weight:700;font-size:.9rem;text-transform:uppercase;letter-spacing:.5px;margin-bottom:.4rem">
                    {{ title }}</div>
                <p style="font-size:.8rem;color:var(--muted)">{{ desc }}</p>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- ═══════════ ABOUT / TEAM ═══════════ -->
<section class="section" id="about" style="background:rgba(0,245,255,0.02);border-top:1px solid var(--border)">
    <div class="section-inner text-center">
        <div data-aos="fade-up">
            <div class="eyebrow">The Team</div>
            <h2 class="section-title" style="font-size:2rem">
                <span style="font-family:var(--font-head);letter-spacing:4px;background:linear-gradient(90deg,var(--cyan),var(--purple));
              -webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent">TechTonics</span>
            </h2>
        </div>

        <div style="display:flex;justify-content:center;gap:2rem;flex-wrap:wrap;margin-top:3rem">
            {% for icon,name,role,col,person in [
            ('fa-network-wired','ML Engineer','Data · Models · Preprocessing','cyan','Tuba'),
            ('fa-server','Backend Engineer','Flask · API · Services','purple','Sohail'),
            ('fa-layer-group','Frontend Engineer','UI · Animations · Charts','cyan','Anagha'),
            ] %}
            <div class="glass" style="padding:2rem 1.5rem;width:220px;text-align:center" data-aos="zoom-in"
                data-aos-delay="{{ loop.index0 * 100 }}">
                <div style="font-size:2.2rem;margin-bottom:.8rem;color:var(--{{ col }})"><i
                        class="fa-solid {{ icon }}"></i></div>
                <div style="font-weight:800;font-size:1.2rem;color:var(--blue);letter-spacing:1px;margin-bottom:.2rem">
                    {{ person }}</div>
                <div style="font-weight:700;font-size:.85rem;text-transform:uppercase;margin-bottom:.5rem">{{ name }}
                </div>
                <div style="font-size:.75rem;color:var(--muted);line-height:1.5;margin-bottom:1rem">{{ role }}</div>
                <span class="badge badge-{{ col }}" style="padding:.3rem .8rem;font-size:.7rem">Techtonics Team</span>
            </div>
            {% endfor %}
        </div>

        <!-- Tech stack -->
        <div style="display:flex;flex-wrap:wrap;gap:.6rem;justify-content:center;margin-top:3rem" data-aos="fade-up">
            {% for t in ['Python','Flask','Scikit-learn','Pandas','NumPy','Chart.js','Plotly','GSAP','AOS'] %}
            <span style="padding:.3rem .9rem;border-radius:20px;font-size:.75rem;font-weight:600;
            background:rgba(0,245,255,0.06);color:var(--cyan);border:1px solid rgba(0,245,255,0.15)">{{ t }}</span>
            {% endfor %}
        </div>
    </div>
</section>

{% endblock %}
{% block scripts %}
<style>
    @keyframes orbFloat {

        0%,
        100% {
            transform: translate(0, 0)
        }

        50% {
            transform: translate(30px, -30px)
        }
    }

    @keyframes floatCard {

        0%,
        100% {
            transform: translateY(0)
        }

        50% {
            transform: translateY(-16px)
        }
    }

    @keyframes floatCard2 {

        0%,
        100% {
            transform: translateY(-8px) rotate(-1deg)
        }

        50% {
            transform: translateY(10px) rotate(1deg)
        }
    }

    @keyframes fadeUp {
        from {
            opacity: 0;
            transform: translateY(24px)
        }

        to {
            opacity: 1;
            transform: none
        }
    }
</style>

<script>
    /* ── Hero Circuit-Board Canvas ─────────────────────────── */
    (function () {
        const canvas = document.getElementById('hero-canvas');
        if (!canvas) return;
        const ctx = canvas.getContext('2d');

        function resize() {
            canvas.width = canvas.offsetWidth;
            canvas.height = canvas.offsetHeight;
        }
        resize();
        window.addEventListener('resize', resize);

        const COLORS = ['#E36A6A', '#D4A837', '#C84B4B', '#E8A87C', '#A0522D'];
        const nodes = [];

        for (let i = 0; i < 40; i++) {
            nodes.push({
                x: Math.random() * canvas.width,
                y: Math.random() * canvas.height,
                vx: (Math.random() - 0.5) * 0.32,
                vy: (Math.random() - 0.5) * 0.32,
                r: Math.random() * 2.5 + 1,
                color: COLORS[Math.floor(Math.random() * COLORS.length)],
                pulse: Math.random() * Math.PI * 2,
                square: Math.random() > 0.65,
            });
        }

        // Static L-shaped circuit backbone
        const traces = Array.from({ length: 18 }, () => ({
            x1: Math.random() * canvas.width,
            y1: Math.random() * canvas.height,
            dx: (Math.random() - 0.5) * 280,
            dy: (Math.random() - 0.5) * 180,
            c: COLORS[Math.floor(Math.random() * COLORS.length)],
            o: Math.random() * 0.12 + 0.04,
        }));

        let t = 0;
        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            t++;

            // Circuit traces
            traces.forEach(tr => {
                ctx.beginPath();
                ctx.moveTo(tr.x1, tr.y1);
                ctx.lineTo(tr.x1 + tr.dx, tr.y1);
                ctx.lineTo(tr.x1 + tr.dx, tr.y1 + tr.dy);
                ctx.strokeStyle = tr.c;
                ctx.globalAlpha = tr.o + Math.sin(t * 0.018 + tr.x1) * 0.025;
                ctx.lineWidth = 1;
                ctx.stroke();
                // Dot at corner
                ctx.beginPath();
                ctx.arc(tr.x1 + tr.dx, tr.y1, 2.5, 0, Math.PI * 2);
                ctx.fillStyle = tr.c;
                ctx.globalAlpha = tr.o * 2.5;
                ctx.fill();
            });
            ctx.globalAlpha = 1;

            // Node connections
            for (let i = 0; i < nodes.length; i++)
                for (let j = i + 1; j < nodes.length; j++) {
                    const dx = nodes[i].x - nodes[j].x, dy = nodes[i].y - nodes[j].y;
                    const d = Math.sqrt(dx * dx + dy * dy);
                    if (d < 130) {
                        ctx.beginPath();
                        ctx.moveTo(nodes[i].x, nodes[i].y);
                        ctx.lineTo(nodes[j].x, nodes[j].y);
                        ctx.strokeStyle = nodes[i].color;
                        ctx.globalAlpha = (1 - d / 130) * 0.16;
                        ctx.lineWidth = 0.7;
                        ctx.stroke();
                    }
                }
            ctx.globalAlpha = 1;

            // Nodes
            nodes.forEach(n => {
                n.x += n.vx; n.y += n.vy; n.pulse += 0.04;
                if (n.x < 0 || n.x > canvas.width) n.vx *= -1;
                if (n.y < 0 || n.y > canvas.height) n.vy *= -1;
                const pr = n.r + Math.sin(n.pulse) * 0.7;
                ctx.fillStyle = n.color;
                ctx.globalAlpha = 0.5;
                if (n.square) {
                    ctx.fillRect(n.x - pr, n.y - pr, pr * 2, pr * 2);
                    ctx.strokeStyle = n.color; ctx.globalAlpha = 0.1; ctx.lineWidth = 3;
                    ctx.strokeRect(n.x - pr * 3.5, n.y - pr * 3.5, pr * 7, pr * 7);
                } else {
                    ctx.beginPath(); ctx.arc(n.x, n.y, pr, 0, Math.PI * 2); ctx.fill();
                    ctx.beginPath(); ctx.arc(n.x, n.y, pr * 3.5, 0, Math.PI * 2);
                    ctx.strokeStyle = n.color; ctx.globalAlpha = 0.07; ctx.lineWidth = 1; ctx.stroke();
                }
            });
            ctx.globalAlpha = 1;
            requestAnimationFrame(draw);
        }
        draw();
    })();
</script>
{% endblock %}